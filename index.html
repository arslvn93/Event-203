<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" id="meta-description" content="">
    <meta name="keywords" id="meta-keywords" content="">
    <title>Secure Your Seat | Blueprint Workshop</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts: Oswald (Headlines) & Roboto (Body) - The "ClickFunnels" Standard -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- External Config -->
    <script src="config.js"></script>

    <style>
        :root {
            --neon-green: #26ff79;
            --dark-green: #0a2812;
            --alert-red: #ff4d4d;
            --gold-start: #FDB931;
            --gold-end: #F79221;
            --bg-dark: #080808;
            --panel-bg: #121212;
        }

        body {
            background-color: var(--bg-dark);
            color: #ffffff;
            font-family: 'Roboto', sans-serif;
            overflow-x: hidden;
        }

        h1, h2, h3, .font-heading {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* === THE "CONVERSION" BUTTON === */
        .btn-pulse {
            background: linear-gradient(to bottom, #ffe066 0%, #e6b800 100%);
            border: 1px solid #fff;
            border-bottom: 4px solid #b28f00;
            border-radius: 6px;
            color: #000;
            font-family: 'Oswald', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            text-shadow: 0px 1px 0px rgba(255,255,255,0.4);
            box-shadow: 0px 0px 20px rgba(255, 215, 0, 0.4);
            transition: all 0.15s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .btn-pulse:hover {
            transform: translateY(1px);
            border-bottom-width: 3px;
            filter: brightness(1.1);
            box-shadow: 0px 0px 30px rgba(255, 215, 0, 0.6);
        }
        
        .btn-pulse:active {
            transform: translateY(4px);
            border-bottom-width: 0px;
        }

        /* Shine Effect Animation */
        .btn-pulse::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 100%);
            transform: rotate(45deg);
            animation: buttonShine 3s infinite;
        }

        @keyframes buttonShine {
            0% { left: -100%; opacity: 0; }
            20% { left: 100%; opacity: 1; }
            100% { left: 100%; opacity: 0; }
        }

        /* === PROGRESS BAR === */
        .progress-container {
            width: 100%;
            background-color: #333;
            border-radius: 50px;
            margin: 15px 0;
            border: 1px solid #444;
        }
        .progress-bar {
            width: 85%;
            height: 12px;
            background: repeating-linear-gradient(
                45deg,
                #dc2626,
                #dc2626 10px,
                #ef4444 10px,
                #ef4444 20px
            );
            border-radius: 50px;
            animation: progressMove 1s linear infinite;
        }
        @keyframes progressMove {
            0% { background-position: 0 0; }
            100% { background-position: 40px 0; }
        }

        /* === CARDS === */
        .funnel-card {
            background: var(--panel-bg);
            border: 1px solid #222;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .highlight-text {
            background-color: rgba(38, 255, 121, 0.15);
            color: var(--neon-green);
            padding: 0 4px;
            border-radius: 2px;
        }

        /* === CHECKLISTS === */
        .check-green i { color: var(--neon-green); }
        .check-red i { color: var(--alert-red); }

        /* === MODAL === */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            z-index: 9999; display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }

        /* === TITAN DESIGN SYSTEM === */
        .titan-neon-border {
            border: 1px solid rgba(38, 255, 121, 0.3);
            box-shadow: 0 0 15px rgba(38, 255, 121, 0.1);
            transition: all 0.3s ease;
        }
        .titan-neon-border:hover {
            border-color: var(--neon-green);
            box-shadow: 0 0 25px rgba(38, 255, 121, 0.3);
            transform: translateY(-5px);
        }
        
        .titan-stack-card {
            background: linear-gradient(145deg, #111 0%, #050505 100%);
            border: 1px solid #222;
            position: relative;
            overflow: hidden;
        }
        
        .titan-truth-bomb {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
            background: linear-gradient(90deg, #fff 0%, #aaa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
        }

        .titan-check-list li {
            display: flex;
            align-items: start;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.05);
            transition: all 0.2s ease;
        }
        .titan-check-list li:hover {
            background: rgba(38, 255, 121, 0.05);
            border-color: rgba(38, 255, 121, 0.2);
        }
    </style>
</head>
<body>

    <!-- URGENCY BAR -->
    <div class="fixed top-0 w-full z-50 bg-red-700 text-white text-center py-2 px-4 text-xs md:text-sm font-bold uppercase tracking-wide shadow-lg">
        <i class="fas fa-exclamation-triangle mr-2 animate-pulse"></i> 
        <span id="top-bar-text">Limited Spots Available For This Workshop</span>
        <span class="hidden md:inline"> | </span>
        <span class="block md:inline text-yellow-300" id="top-bar-spots"></span>
    </div>

    <!-- HERO SECTION -->
    <header class="pt-24 pb-16 px-4 bg-[url('https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=2000')] bg-cover bg-center relative">
        <div class="absolute inset-0 bg-gradient-to-b from-black via-black/90 to-[#080808]"></div>
        
        <div class="relative z-10 max-w-4xl mx-auto text-center">
            
            <!-- Pre-Headline Authority -->
            <div class="inline-block border border-gray-600 bg-gray-900/80 rounded-full px-4 py-1 text-xs font-bold text-gray-300 mb-6 uppercase tracking-widest" id="hero-badge">
                Loading...
            </div>

            <!-- Headline -->
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-heading font-bold leading-tight text-white mb-6 drop-shadow-xl" id="hero-headline">
                <!-- JS -->
            </h1>

            <!-- Subheadline -->
            <p class="text-lg md:text-2xl text-gray-300 font-light leading-relaxed mb-8 max-w-3xl mx-auto" id="hero-subtitle">
                <!-- JS -->
            </p>

            <!-- Progress Bar Scarcity -->
            <div class="max-w-md mx-auto mb-8">
                <div class="flex justify-between text-xs font-bold uppercase text-gray-400 mb-1">
                    <span>Registration Status</span>
                    <span class="text-red-500">85% Full</span>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 85%;"></div>
                </div>
            </div>

            <!-- HERO CTA -->
            <button onclick="openModal()" class="btn-pulse text-2xl md:text-3xl px-12 py-6 w-full md:w-auto rounded-lg shadow-2xl animate-bounce-slow">
                <span id="hero-cta">YES! RESERVE MY SEAT NOW</span>
                <i class="fas fa-angle-double-right ml-3"></i>
            </button>
            
            <p class="mt-4 text-xs text-gray-500 uppercase tracking-widest" id="hero-urgency-text">
                <i class="fas fa-lock text-green-500"></i> 100% Free Class â€¢ No Credit Card Required
            </p>
        </div>
    </header>

    <!-- THE "PROBLEM" (Agitation) -->
    <section class="py-16 px-4 bg-[#080808] border-b border-gray-900">
        <div class="max-w-3xl mx-auto">
            <div class="bg-[#111] border-l-4 border-red-600 p-8 rounded-r-lg shadow-lg">
                <h2 class="text-2xl md:text-3xl font-heading font-bold text-white mb-6" id="problems-title"></h2>
                <ul class="space-y-4 text-gray-300 text-lg" id="problems-list">
                    <!-- JS -->
                </ul>
            </div>
        </div>
    </section>

    <!-- THE "SOLUTION" (3-Day Breakdown) -->
    <section class="py-20 px-4 bg-[#050505]">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-5xl font-heading font-bold text-white uppercase" id="solutions-title">
                    Here Is The <span class="text-green-500 underline decoration-4 decoration-green-500/30">Exact Roadmap</span> We Will Follow
                </h2>
            </div>

            <div class="grid md:grid-cols-3 gap-6" id="roadmap-grid">
                <!-- JS Injected -->
            </div>
        </div>
    </section>

    <!-- THE "GAP" (Comparison Table) -->
    <section class="py-20 px-4 bg-[#0c0c0c]">
        <div class="max-w-5xl mx-auto">
            <div class="funnel-card overflow-hidden">
                <div class="grid grid-cols-2 text-center border-b border-gray-800">
                    <div class="p-6 bg-red-900/20">
                        <h3 class="text-2xl font-heading font-bold text-red-500" id="comparison-painful-title">THE HARD WAY</h3>
                        <p class="text-xs text-red-400 opacity-70 uppercase" id="comparison-painful-subtitle">(Doing it alone)</p>
                    </div>
                    <div class="p-6 bg-green-900/20 border-l border-gray-800 relative">
                        <div class="absolute top-0 right-0 bg-green-500 text-black text-[10px] font-bold px-2 py-1 uppercase">Recommended</div>
                        <h3 class="text-2xl font-heading font-bold text-green-500" id="comparison-express-title">THE SMART WAY</h3>
                        <p class="text-xs text-green-400 opacity-70 uppercase" id="comparison-express-subtitle">(With This Blueprint)</p>
                    </div>
                </div>
                <div id="comparison-rows">
                    <!-- JS -->
                </div>
            </div>
            
            <div class="text-center mt-12">
                <button onclick="openModal()" class="btn-pulse text-xl px-10 py-4 rounded-lg">
                    I CHOOSE THE SMART WAY <i class="fas fa-check-circle ml-2"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- SOCIAL PROOF (Speakers) - MOVED UP -->
    <section class="py-20 px-4 bg-[#080808] border-b border-gray-900">
        <div class="max-w-6xl mx-auto text-center">
            <h2 class="text-3xl md:text-5xl font-heading font-bold text-white mb-4" id="speakers-title"></h2>
            <p class="text-xl text-gray-400 mb-16 max-w-4xl mx-auto" id="speakers-subtitle"></p>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8" id="speakers-grid">
                <!-- JS -->
            </div>
        </div>
    </section>

    <!-- TARGET AUDIENCE (QUALIFICATION CHECKLIST) -->
    <section class="py-24 px-4 bg-[#050505] border-t border-gray-900" id="target-audience-section">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-16">
                <span class="bg-gray-800 text-gray-300 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest border border-gray-700">Qualification Check</span>
                <h2 class="text-3xl md:text-5xl font-heading font-bold text-white mt-6 mb-4" id="target-audience-title"></h2>
            </div>
            
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div class="titan-stack-card p-8 rounded-2xl shadow-2xl">
                    <ul class="space-y-4 titan-check-list" id="target-audience-list">
                        <!-- JS -->
                    </ul>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-2xl font-heading font-bold text-white mb-4">Does This Sound Like You?</h3>
                    <p class="text-gray-400 mb-8 leading-relaxed">If you checked even one of these boxes, this workshop was built specifically for your situation. We cut through the noise and give you the exact blueprint you need.</p>
                    <p class="text-green-500 font-bold italic" id="target-audience-note"></p>
                    <button onclick="openModal()" class="btn-pulse mt-8 px-8 py-4 text-xl rounded w-full md:w-auto">
                        YES, THIS IS FOR ME
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- BENEFITS SECTION (VALUE PILLARS) -->
    <section class="py-24 px-4 bg-black border-t border-gray-900" id="benefits-section">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-20">
                <h2 class="text-3xl md:text-5xl font-heading font-bold text-white mb-6" id="benefits-title"></h2>
                <p class="text-xl text-gray-400 max-w-3xl mx-auto" id="benefits-subtitle"></p>
            </div>
            <div class="grid md:grid-cols-3 gap-8" id="benefits-grid">
                <!-- JS -->
            </div>
        </div>
    </section>

    <!-- EVENT SUMMARY (OFFER STACK) -->
    <section class="py-24 px-4 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] bg-fixed bg-[#080808] border-t border-gray-900" id="event-summary-section">
        <div class="max-w-4xl mx-auto">
            <div class="titan-stack-card p-8 md:p-12 rounded-3xl border-2 border-gray-800 shadow-[0_0_50px_rgba(0,0,0,0.5)]">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-5xl font-heading font-bold text-white mb-4" id="event-summary-title"></h2>
                    <p class="text-xl text-gray-400" id="event-summary-subtitle"></p>
                </div>

                <!-- Stack Items -->
                <div class="bg-[#111] rounded-xl p-8 mb-10 border border-gray-800">
                    <ul class="space-y-6" id="event-summary-features">
                        <!-- JS -->
                    </ul>
                </div>

                <!-- Logistics Row -->
                <div class="grid grid-cols-2 gap-4 mb-10 text-center">
                    <div class="bg-gray-900/50 p-4 rounded border border-gray-800">
                        <div class="text-green-500 text-sm font-bold uppercase mb-1">Date</div>
                        <div class="text-white font-bold" id="event-summary-date"></div>
                    </div>
                    <div class="bg-gray-900/50 p-4 rounded border border-gray-800">
                        <div class="text-green-500 text-sm font-bold uppercase mb-1">Location</div>
                        <div class="text-white font-bold" id="event-summary-location"></div>
                    </div>
                </div>

                <!-- Price Anchor -->
                <div class="text-center border-t border-dashed border-gray-700 pt-8 mb-8">
                    <p class="text-gray-500 text-lg mb-2">Total Value: <span class="line-through text-red-500">$997</span></p>
                    <p class="text-4xl md:text-6xl font-heading font-bold text-white">YOUR PRICE: <span class="text-green-500">FREE</span></p>
                </div>

                <!-- Note & CTA -->
                <div class="text-center">
                    <p class="text-gray-400 mb-6 italic" id="event-summary-note"></p>
                    <p class="text-yellow-400 font-bold text-sm mb-8 animate-pulse" id="event-summary-limited-offer"></p>
                    <button onclick="openModal()" class="btn-pulse text-2xl md:text-4xl px-12 py-6 w-full rounded-xl shadow-2xl hover:scale-105 transition-transform" id="event-summary-cta">
                        CLAIM YOUR FREE SPOT NOW
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- THE DETAILS (Triptych) -->
    <section class="py-16 px-4 bg-white text-black">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-center text-4xl font-heading font-bold mb-12 text-black">EVENT DETAILS</h2>
            <div class="grid md:grid-cols-3 gap-8 text-center" id="details-grid">
                <div class="p-6 border-2 border-gray-100 rounded-xl shadow-sm">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-blue-600">
                        <i class="fas fa-calendar-day"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 uppercase">When</h3>
                    <p class="text-gray-600 font-medium" id="detail-when"></p>
                </div>
                <div class="p-6 border-2 border-gray-100 rounded-xl shadow-sm">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-red-600">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 uppercase">Where</h3>
                    <p class="text-gray-600 font-medium" id="detail-where"></p>
                    <p class="text-gray-500 text-sm mt-2" id="detail-where-note"></p>
                </div>
                <div class="p-6 border-2 border-gray-100 rounded-xl shadow-sm">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-green-600">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 uppercase">Cost</h3>
                    <p class="text-gray-600 font-medium" id="detail-cost">100% FREE (For Now)</p>
                </div>
                <div class="p-6 border-2 border-gray-100 rounded-xl shadow-sm md:col-span-3">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl text-blue-600">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3 class="font-bold text-xl mb-2 uppercase">Duration</h3>
                    <p class="text-gray-600 font-medium" id="detail-duration"></p>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT SECTION (CONCIERGE SUPPORT) -->
    <section class="py-16 px-4 bg-[#080808] border-t border-gray-900" id="contact-section">
        <div class="max-w-3xl mx-auto">
            <div class="titan-stack-card p-8 rounded-xl flex flex-col md:flex-row items-center gap-8">
                <div class="w-32 h-32 rounded-full overflow-hidden border-4 border-green-500 flex-shrink-0 shadow-[0_0_20px_rgba(38,255,121,0.3)]">
                     <!-- Agent Image will be injected via JS or fallback -->
                     <img id="contact-agent-img" src="https://via.placeholder.com/150" class="w-full h-full object-cover">
                </div>
                <div class="text-center md:text-left flex-grow">
                    <h3 class="text-2xl font-heading font-bold text-white mb-2">Have Questions Before Joining?</h3>
                    <p class="text-gray-400 mb-6">Text or email our team directly. We're real people here to help you make the right choice.</p>
                    <div id="contact-info" class="flex flex-col md:flex-row gap-4 justify-center md:justify-start">
                        <!-- JS -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- LEGAL FOOTER -->
    <footer class="bg-black py-8 text-center text-gray-600 text-xs border-t border-gray-900">
        <div class="container mx-auto px-4">
            <p id="footer-copy"></p>
            <p id="footer-brokerage" class="mt-1 font-bold text-gray-500"></p>
            <p id="footer-address" class="mt-2 text-gray-500"></p>
            <div class="mt-4 space-x-4">
                <a href="#" id="footer-privacy-link" class="hover:text-white">Privacy Policy</a>
                <span>|</span>
                <a href="#" class="hover:text-white">Terms of Service</a>
            </div>
        </div>
    </footer>

    <!-- MODAL (The Squeeze) -->
    <div class="modal-overlay" id="modal">
        <div class="bg-white text-black rounded-lg w-full max-w-md mx-4 relative overflow-hidden shadow-2xl animate-fade-in-up">
            <!-- Header -->
            <div class="bg-gray-100 p-4 border-b border-gray-200 flex justify-between items-center">
                <span class="font-bold text-sm uppercase tracking-wide text-gray-500">Step 1 of 2</span>
                <button onclick="closeModal()" class="text-gray-400 hover:text-red-500 text-2xl font-bold">&times;</button>
            </div>
            <div class="h-2 bg-gray-200 w-full">
                <div class="h-full bg-green-500 w-1/2 transition-all duration-500" id="modal-progress"></div>
            </div>

            <!-- Content -->
            <div class="p-8" id="modal-content">
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-heading font-bold mb-2">Almost There!</h3>
                    <p class="text-gray-600 text-sm">Enter your details below to secure your spot.</p>
                </div>

                <form id="regForm" class="space-y-4">
                    <div>
                        <input type="text" name="firstName" class="w-full bg-gray-50 border border-gray-300 p-4 rounded font-bold focus:ring-2 focus:ring-green-500 outline-none" placeholder="First Name" required>
                    </div>
                    <div>
                        <input type="text" name="lastName" class="w-full bg-gray-50 border border-gray-300 p-4 rounded font-bold focus:ring-2 focus:ring-green-500 outline-none" placeholder="Last Name" required>
                    </div>
                    <div>
                        <input type="email" name="email" class="w-full bg-gray-50 border border-gray-300 p-4 rounded font-bold focus:ring-2 focus:ring-green-500 outline-none" placeholder="Best Email Address" required>
                    </div>
                    <div>
                        <input type="tel" name="phone" class="w-full bg-gray-50 border border-gray-300 p-4 rounded font-bold focus:ring-2 focus:ring-green-500 outline-none" placeholder="Mobile Number" required>
                    </div>
                    <button type="submit" id="modalBtn" class="btn-pulse w-full py-4 text-xl rounded">
                        Next Step <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </form>
                <p class="text-center text-[10px] text-gray-400 mt-4"><i class="fas fa-lock"></i> Information is secure.</p>
            </div>
        </div>
    </div>

    <!-- MAIN LOGIC -->
    <script>
        // --- HELPER FUNCTIONS ---
        function inject(id, content, isHtml = false) {
            const el = document.getElementById(id);
            if(el) {
                if(isHtml) el.innerHTML = content;
                else el.textContent = content;
            }
        }

        function hideEmptySections() {
            const sections = [
                { id: 'roadmap-grid', check: () => !config.solutions?.items || config.solutions.items.length === 0 },
                { id: 'comparison-rows', check: () => !config.comparison?.painfulWay?.points || !config.comparison?.expressWay?.points },
                { id: 'speakers-grid', check: () => !config.speakers?.experts || config.speakers.experts.length === 0 },
                { id: 'faq-list', check: () => !config.faq?.questions || config.faq.questions.length === 0 },
                { id: 'benefits-grid', check: () => !config.benefits?.items || config.benefits.items.length === 0 },
                { id: 'target-audience-list', check: () => !config.targetAudience?.items || config.targetAudience.items.length === 0 },
                { id: 'event-summary-features', check: () => !config.eventSummary?.features || config.eventSummary.features.length === 0 }
            ];
            sections.forEach(section => {
                const el = document.getElementById(section.id);
                if(el && section.check()) {
                    el.closest('section')?.style.setProperty('display', 'none');
                }
            });
        }

        function waitForConfig(callback) {
            if(typeof config !== 'undefined' && config.meta) {
                callback();
            } else {
                let attempts = 0;
                const checkConfig = setInterval(() => {
                    attempts++;
                    if(typeof config !== 'undefined' && config.meta) {
                        clearInterval(checkConfig);
                        callback();
                    } else if(attempts > 50) {
                        clearInterval(checkConfig);
                        console.error('Config failed to load after 5 seconds');
                    }
                }, 100);
            }
        }

        // --- INITIALIZATION ---
        waitForConfig(() => {
            document.title = config.meta.pageTitle;
            
            // META TAGS
            const metaDesc = document.getElementById('meta-description');
            const metaKeywords = document.getElementById('meta-keywords');
            if(metaDesc && config.meta?.description) metaDesc.setAttribute('content', config.meta.description);
            if(metaKeywords && config.meta?.keywords) metaKeywords.setAttribute('content', config.meta.keywords);

            // TOP BAR
            inject('top-bar-text', config.header.eventDate);
            inject('top-bar-spots', config.header.spotsAvailable, true);

            // HERO
            inject('hero-badge', config.hero.badge);
            inject('hero-headline', config.hero.headline.replace(/class='highlight'/g, "class='text-green-400 font-bold'"), true);
            inject('hero-subtitle', config.hero.subtitle, true);
            inject('hero-cta', config.hero.ctaText);
            if(config.hero?.urgencyText) {
                inject('hero-urgency-text', `<i class="fas fa-exclamation-circle text-yellow-400"></i> ${config.hero.urgencyText}`, true);
            }

            // PROBLEMS
            inject('problems-title', config.problems.title);
            if(config.problems.items) {
                inject('problems-list', config.problems.items.map(item => `
                    <li class="flex items-start gap-3">
                        <i class="fas fa-times-circle text-red-500 mt-1 text-xl"></i>
                        <span>${item}</span>
                    </li>
                `).join(''), true);
            }

            // SUCCESS STATEMENT
            if(config.successStatement) {
                inject('success-statement-text', config.successStatement);
            } else {
                const successSection = document.getElementById('success-statement-section');
                if(successSection) successSection.style.display = 'none';
            }

            // SOLUTIONS TITLE
            if(config.solutions?.title) {
                inject('solutions-title', config.solutions.title, true);
            }

            // ROADMAP
            if(config.solutions?.items && config.solutions.items.length > 0) {
                const items = config.solutions.items;
                const days = [items.slice(0,2), items.slice(2,4), items.slice(4,6)];
                const dayTitles = ["Frame The Strategy", "Build The Plan", "Launch Your Journey"];

                const roadHtml = days.map((dayItems, i) => `
                    <div class="funnel-card p-6 relative">
                        <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-green-600 text-black font-black px-4 py-1 rounded text-sm uppercase tracking-wide border-2 border-white">
                            STEP ${i+1}
                        </div>
                        <h3 class="text-center text-4xl font-heading font-bold text-green-500 mt-4 mb-2">PHASE ${i+1}</h3>
                        <div class="text-center text-xs text-gray-400 font-bold uppercase mb-4 border-b border-gray-800 pb-4">
                            <i class="far fa-calendar-alt"></i> <span>DATE TBA</span>
                        </div>
                        <h4 class="text-center text-lg font-bold text-white mb-6">${dayTitles[i]}</h4>
                        <div class="space-y-3">
                            ${dayItems.map(item => `
                                <div class="bg-white text-black rounded p-3 text-sm font-bold flex gap-3 items-start">
                                    <i class="fas fa-check-circle text-green-600 mt-1"></i>
                                    <span>${item.replace(/<[^>]*>/g, '')}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
                inject('roadmap-grid', roadHtml, true);
            }

            // TARGET AUDIENCE
            if(config.targetAudience?.title) {
                inject('target-audience-title', config.targetAudience.title);
                if(config.targetAudience.items && config.targetAudience.items.length > 0) {
                    inject('target-audience-list', config.targetAudience.items.map(item => `
                        <li class="text-gray-300 font-medium text-lg">
                            <i class="fas fa-check-circle text-green-500 mt-1 text-xl"></i>
                            <span>${item}</span>
                        </li>
                    `).join(''), true);
                }
                if(config.targetAudience.note) {
                    inject('target-audience-note', config.targetAudience.note);
                }
            } else {
                const targetSection = document.getElementById('target-audience-section');
                if(targetSection) targetSection.style.display = 'none';
            }

            // DETAILS
            inject('detail-when', (config.event?.date || '') + (config.event?.time ? "<br>" + config.event.time : ''), true);
            inject('detail-where', config.event?.location || '');
            if(config.event?.locationNote) {
                inject('detail-where-note', config.event.locationNote);
            }
            if(config.event?.cost) {
                inject('detail-cost', config.event.cost);
            }
            const durationCard = document.querySelector('#detail-duration')?.closest('div');
            if(config.event?.duration) {
                inject('detail-duration', config.event.duration);
                if(durationCard) durationCard.style.display = 'block';
            } else if(durationCard) {
                durationCard.style.display = 'none';
            }

            // COMPARISON - Titles and Subtitles
            if(config.comparison?.painfulWay?.title) {
                inject('comparison-painful-title', config.comparison.painfulWay.title);
            }
            if(config.comparison?.painfulWay?.subtitle) {
                inject('comparison-painful-subtitle', config.comparison.painfulWay.subtitle);
            }
            if(config.comparison?.expressWay?.title) {
                inject('comparison-express-title', config.comparison.expressWay.title);
            }
            if(config.comparison?.expressWay?.subtitle) {
                inject('comparison-express-subtitle', config.comparison.expressWay.subtitle);
            }

            // COMPARISON - Build proper table rows
            if(config.comparison?.painfulWay?.points && config.comparison?.expressWay?.points) {
                const maxPoints = Math.max(config.comparison.painfulWay.points.length, config.comparison.expressWay.points.length);
                const comparisonRows = [];
                for(let i = 0; i < maxPoints; i++) {
                    const painfulPoint = config.comparison.painfulWay.points[i] || '';
                    const expressPoint = config.comparison.expressWay.points[i] || '';
                    comparisonRows.push(`
                        <div class="grid grid-cols-2 border-b border-gray-800">
                            <div class="p-4 border-r border-gray-800">
                                <div class="flex items-start gap-3 text-sm md:text-base text-gray-400">
                                    <i class="fas fa-times text-red-500 mt-1"></i>
                                    <span>${painfulPoint}</span>
                                </div>
                            </div>
                            <div class="p-4">
                                <div class="flex items-start gap-3 text-sm md:text-base font-medium text-white">
                                    <i class="fas fa-check text-green-500 mt-1"></i>
                                    <span>${expressPoint}</span>
                                </div>
                            </div>
                        </div>
                    `);
                }
                inject('comparison-rows', comparisonRows.join(''), true);
            }

            // BENEFITS
            if(config.benefits?.title) {
                inject('benefits-title', config.benefits.title);
                if(config.benefits.subtitle) {
                    inject('benefits-subtitle', config.benefits.subtitle);
                }
                if(config.benefits.items && config.benefits.items.length > 0) {
                    inject('benefits-grid', config.benefits.items.map((benefit, idx) => `
                        <div class="titan-neon-border bg-[#111] p-8 rounded-xl relative overflow-hidden group">
                            <div class="absolute top-0 right-0 bg-gray-800 text-gray-500 text-xs font-bold px-3 py-1 rounded-bl-lg">0${idx + 1}</div>
                            <div class="w-16 h-16 bg-gray-800/50 rounded-full flex items-center justify-center mb-6 group-hover:bg-green-900/20 transition-colors">
                                <i class="fas fa-star text-green-500 text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-heading font-bold text-white mb-3 group-hover:text-green-400 transition-colors">${benefit.title}</h3>
                            <p class="text-gray-400 leading-relaxed">${benefit.description}</p>
                        </div>
                    `).join(''), true);
                }
            } else {
                const benefitsSection = document.getElementById('benefits-section');
                if(benefitsSection) benefitsSection.style.display = 'none';
            }

            // SPEAKERS (Headshots)
            inject('speakers-title', config.speakers?.title || '');
            if(config.speakers?.subtitle) {
                inject('speakers-subtitle', config.speakers.subtitle, true);
            }
            if(config.speakers?.experts && config.speakers.experts.length > 0) {
                inject('speakers-grid', config.speakers.experts.map(exp => `
                    <div class="funnel-card p-6 text-center group">
                        <div class="w-32 h-32 mx-auto rounded-full overflow-hidden border-4 border-green-500 shadow-xl mb-4 grayscale group-hover:grayscale-0 transition-all duration-500">
                            <img src="${exp.headshotUrl}" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/150'">
                        </div>
                        <h3 class="font-bold text-xl text-white uppercase mb-2">${exp.name}</h3>
                        <p class="text-xs text-green-500 font-bold uppercase tracking-wide mb-3">${exp.title}</p>
                        ${exp.description ? `<p class="text-sm text-gray-400 mb-3">${exp.description}</p>` : ''}
                        ${exp.points && exp.points.length > 0 ? `
                            <ul class="text-left text-xs text-gray-500 space-y-2 mt-4">
                                ${exp.points.map(point => `<li class="flex items-start gap-2"><i class="fas fa-check text-green-500 mt-1"></i><span>${point}</span></li>`).join('')}
                            </ul>
                        ` : ''}
                    </div>
                `).join(''), true);
            }

            // EVENT SUMMARY
            if(config.eventSummary?.title) {
                inject('event-summary-title', config.eventSummary.title);
                if(config.eventSummary.subtitle) {
                    inject('event-summary-subtitle', config.eventSummary.subtitle);
                }
                if(config.eventSummary.date) {
                    inject('event-summary-date', config.eventSummary.date);
                }
                if(config.eventSummary.location) {
                    inject('event-summary-location', config.eventSummary.location);
                }
                if(config.eventSummary.features && config.eventSummary.features.length > 0) {
                    inject('event-summary-features', config.eventSummary.features.map(feature => `
                        <li class="flex items-center justify-between border-b border-gray-800 pb-4 last:border-0 last:pb-0">
                            <div class="flex items-center gap-4">
                                <i class="fas fa-check-square text-green-500 text-xl"></i>
                                <span class="text-gray-300 font-medium text-lg">${feature}</span>
                            </div>
                            <span class="text-gray-500 font-bold text-sm hidden md:block">PRICELESS</span>
                        </li>
                    `).join(''), true);
                }
                if(config.eventSummary.note) {
                    inject('event-summary-note', config.eventSummary.note);
                }
                if(config.eventSummary.limitedOffer) {
                    inject('event-summary-limited-offer', config.eventSummary.limitedOffer);
                }
                if(config.eventSummary.ctaText) {
                    inject('event-summary-cta', config.eventSummary.ctaText);
                }
            } else {
                const eventSummarySection = document.getElementById('event-summary-section');
                if(eventSummarySection) eventSummarySection.style.display = 'none';
            }

            // FAQ
            inject('faq-title', config.faq?.title || '');
            if(config.faq?.subtitle) {
                inject('faq-subtitle', config.faq.subtitle);
            }
            if(config.faq?.questions && config.faq.questions.length > 0) {
                inject('faq-list', config.faq.questions.map(q => `
                    <div class="border border-gray-800 rounded bg-[#111] overflow-hidden">
                        <button class="w-full text-left p-4 font-bold text-white flex justify-between items-center focus:outline-none hover:bg-gray-900 transition-colors" onclick="toggleFaq(this)">
                            <span>${q.question}</span>
                            <i class="fas fa-plus text-green-500"></i>
                        </button>
                        <div class="hidden p-4 text-gray-400 text-sm border-t border-gray-800 bg-black">
                            ${q.answer}
                        </div>
                    </div>
                `).join(''), true);
            }

            // CONTACT
            if(config.contact?.agents && config.contact.agents.length > 0) {
                const agent = config.contact.agents[0];
                // Inject Image if available
                const imgEl = document.getElementById('contact-agent-img');
                if(imgEl) {
                    // Find matching expert for image
                    const expert = config.speakers?.experts?.find(e => e.name === agent.name);
                    if(expert && expert.headshotUrl) {
                        imgEl.src = expert.headshotUrl;
                    }
                }

                inject('contact-info', `
                    <div class="flex flex-col gap-2">
                        <p class="text-white font-bold text-xl">${agent.name || 'Support Team'}</p>
                        <p class="text-green-500 text-sm font-bold uppercase tracking-wide mb-2">${agent.title || 'Event Coordinator'}</p>
                    </div>
                    <div class="flex gap-4 mt-4 md:mt-0">
                        ${agent.phone ? `<a href="tel:${agent.phone}" class="bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-bold transition-colors flex items-center gap-2"><i class="fas fa-phone"></i> <span>Call/Text</span></a>` : ''}
                        ${agent.email ? `<a href="mailto:${agent.email}" class="bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-bold transition-colors flex items-center gap-2"><i class="fas fa-envelope"></i> <span>Email Us</span></a>` : ''}
                    </div>
                `, true);
            } else {
                const contactSection = document.getElementById('contact-section');
                if(contactSection) contactSection.style.display = 'none';
            }

            // FOOTER CTA
            const footerTitle = config.eventDetails?.sectionTitle || config.registration?.title || '';
            const footerNote = config.registration?.note || '';
            const footerCtaText = config.eventDetails?.ctaText || config.registration?.ctaText || 'SECURE MY FREE TICKET NOW';
            inject('footer-title', footerTitle);
            inject('footer-note', footerNote);
            const footerCtaBtn = document.getElementById('footer-cta-button');
            if(footerCtaBtn) {
                footerCtaBtn.innerHTML = footerCtaText + ' <i class="fas fa-angle-double-right ml-3"></i>';
            }
            inject('footer-urgency', config.registration?.urgency || '', true);

            // FOOTER
            inject('footer-copy', config.footer?.copyright || '');
            inject('footer-brokerage', config.footer?.brokerage || '');
            if(config.footer?.address) {
                inject('footer-address', config.footer.address);
            }
            if(config.footer?.privacyPolicy) {
                const privacyLink = document.getElementById('footer-privacy-link');
                if(privacyLink) privacyLink.setAttribute('href', config.footer.privacyPolicy);
            }

            // Hide empty sections
            hideEmptySections();

            // MODAL LOGIC
            initModal();
        });

        // --- INTERACTION ---
        function toggleFaq(btn) {
            const content = btn.nextElementSibling;
            const icon = btn.querySelector('i');
            if(content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.classList.remove('fa-plus');
                icon.classList.add('fa-minus');
            } else {
                content.classList.add('hidden');
                icon.classList.remove('fa-minus');
                icon.classList.add('fa-plus');
            }
        }

        function openModal() {
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function initModal() {
            const form = document.getElementById('regForm');
            const modalContent = document.getElementById('modal-content');
            let userData = {};

            // Step 1: Form Submit
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                const formData = new FormData(form);
                userData = Object.fromEntries(formData);
                
                // Show Loading
                document.getElementById('modalBtn').innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> PROCESSING...';
                
                // Go to Questions
                setTimeout(() => startQuestions(), 800);
            });

            // Step 2: Questions
            function startQuestions() {
                let currentQ = 0;
                let answers = [];
                const questions = config.modalQuestions;

                function renderQ() {
                    if(currentQ >= questions.length) {
                        finish();
                        return;
                    }
                    const q = questions[currentQ];
                    
                    // Update Progress Bar
                    const progress = ((currentQ + 1) / (questions.length + 1)) * 100;
                    document.getElementById('modal-progress').style.width = progress + '%';

                    let optionsHtml = q.options.map(opt => `
                        <button class="w-full text-left p-4 mb-2 border border-gray-200 rounded hover:bg-green-50 hover:border-green-500 transition-all font-bold text-gray-700 group flex items-center gap-3" onclick="handleAnswer('${q.id}', '${q.questionText}', '${opt.value}', '${opt.text.replace(/'/g, "\\'")}')">
                            <div class="w-5 h-5 rounded-full border-2 border-gray-300 group-hover:border-green-500 flex items-center justify-center">
                                <div class="w-3 h-3 rounded-full bg-green-500 opacity-0 group-hover:opacity-100"></div>
                            </div>
                            ${opt.text}
                        </button>
                    `).join('');

                    modalContent.innerHTML = `
                        <div class="text-center mb-6 animate-fade-in">
                            <h3 class="text-xl font-bold mb-4">${q.questionText}</h3>
                            <div>${optionsHtml}</div>
                        </div>
                    `;
                }

                window.handleAnswer = (questionId, qText, val, answerText) => {
                    answers.push({ 
                        questionId: questionId,
                        question: qText, 
                        answer: answerText || val
                    });
                    currentQ++;
                    renderQ();
                };

                renderQ();

                function finish() {
                    document.getElementById('modal-progress').style.width = '100%';
                    modalContent.innerHTML = `
                        <div class="text-center py-10">
                            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600 text-4xl">
                                <i class="fas fa-check"></i>
                            </div>
                            <h2 class="text-3xl font-heading font-bold mb-2">YOU'RE IN!</h2>
                            <p class="text-gray-600 mb-4">Ticket sent to <strong>${userData.email}</strong></p>
                            <p class="text-xs text-gray-400">Check your spam folder if missing.</p>
                        </div>
                    `;
                    
                    // Update spots counter locally
                    if(config.event?.spotsLeft !== undefined) {
                        config.event.spotsLeft = Math.max(0, config.event.spotsLeft - 1);
                        const spotsText = config.header?.spotsAvailable || `Only ${config.event.spotsLeft} Spots Available`;
                        inject('top-bar-spots', spotsText.replace(/\d+/, config.event.spotsLeft), true);
                        inject('footer-urgency', config.registration?.urgency?.replace(/\d+/, config.event.spotsLeft) || '', true);
                    }
                    
                    // Send Data
                    const webhookUrl = (config.webhook?.enabled && config.webhook?.url) 
                        ? config.webhook.url 
                        : (config.deploymentInfo?.webhookUrl || '');
                    
                    if(webhookUrl) {
                        const timestamp = new Date().toISOString();
                        const payload = {
                            source: 'v11.html',
                            timestamp: timestamp,
                            submittedAt: timestamp,
                            firstName: userData.firstName || '',
                            lastName: userData.lastName || '',
                            email: userData.email || '',
                            phone: userData.phone || '',
                            agentEmail: config.contact?.agents?.[0]?.email || '',
                            questions: answers.map(a => ({
                                questionId: a.questionId,
                                question: a.question,
                                answer: a.answer
                            })),
                            campaign: config.event?.title || '',
                            deploymentInfo: config.deploymentInfo || {}
                        };
                        
                        fetch(webhookUrl, {
                            method: 'POST',
                            headers: {'Content-Type': 'application/json'},
                            body: JSON.stringify(payload)
                        }).catch(err => console.error('Webhook error:', err));
                    }
                }
            }
        }
    </script>
    
    <style>
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
    </style>
</body>
</html>